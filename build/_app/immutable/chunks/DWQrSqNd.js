const c="https://a5xuqpwtq5.microcms.io/api/v1",a="Y6G6BAYcmFljRgIyifFP8Ri5ljT8CpcairEK";function p(e){if(!e)return"";const o=Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>`${encodeURIComponent(r)}=${encodeURIComponent(String(n))}`).join("&");return o?`?${o}`:""}const I=async({endpoint:e,fetch:o,contentId:r,isList:n=!0,params:i})=>{const s=`${c}/${e}${r?`/${r}`:""}${p(i)}`;try{const t=await o(s,{method:"GET",headers:{"Content-Type":"application/json","X-MICROCMS-API-KEY":a}});if(!t.ok)throw new Error(`API error: ${t.statusText}`);return await t.json()}catch(t){throw console.error("Failed to fetch data:",t),new Error("データの取得に失敗しました。")}};export{I as f};

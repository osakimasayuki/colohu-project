import{f as x}from"../chunks/DWQrSqNd.js";import"../chunks/DsnmJJEf.js";import{o as E}from"../chunks/_VhIObgJ.js";import{au as R,aR as _,b as $,ao as n,ap as s,av as k,aq as q,ar as v,as as P,s as w,aO as z,a as t,aS as D,at as h}from"../chunks/DHERRkf2.js";import{h as G}from"../chunks/vuaNgeRL.js";import{a as H,L as I}from"../chunks/CDwRuAqr.js";import{e as W}from"../chunks/DHiBPrQ2.js";import{s as X,a as B}from"../chunks/MzRrMBOv.js";import{p as F}from"../chunks/B6SYZq21.js";import{C as J,P as K}from"../chunks/D3fyS2z2.js";import{N as Q}from"../chunks/6TjF5kyF.js";const U=!1,C=10,V=async({fetch:m,url:e})=>{const i=e.searchParams.get("page"),l={limit:C};i&&(l.offset=Number(i));const c=await x({endpoint:"news",fetch:m,params:l});return{news:c.contents,totalPage:c.totalCount/C}},da=Object.freeze(Object.defineProperty({__proto__:null,load:V,prerender:U},Symbol.toStringTag,{value:"Module"}));var Y=n('<meta name="description" content="About this app"/>'),Z=n('<li class="news__item"><!></li>'),aa=n('<!> <ul class="news__list"></ul> <!>',1),ta=n("<p>時間をおいてもう一度お試しください。</p>"),ea=n('<div class="lower news svelte-r3cjww"><h2 class="lower__title js-anim-chars">NEWS</h2> <!></div>');function fa(m,e){R(e,!0);const[i,l]=X(),c=()=>B(F,"$page",i),A=["All","Info","Award","Media"];let p=_("All"),g=_($([])),b=_(1);const S=()=>{w(g,e.data.news.filter(a=>a.category[0]===t(p)),!0)};E(()=>{w(b,Number(c().url.searchParams.get("page")),!0)});var u=ea();G(a=>{var r=Y();q.title="News",s(a,r)});var j=v(P(u),2);H(j,()=>e.data.news,a=>{I(a)},(a,r)=>{const M=D(()=>t(g).length>0?t(g):t(r));var y=aa(),N=z(y);J(N,{get categories(){return A},get activeCategory(){return t(p)},onSelectCategory:o=>{w(p,o,!0),S()}});var d=v(N,2);W(d,23,()=>t(M),o=>o.id,(o,L)=>{var f=Z(),T=P(f);Q(T,{get item(){return t(L)}}),h(f),s(o,f)}),h(d);var O=v(d,2);K(O,{pagePath:"/news/",get totalPage(){return e.data.totalPage},get pageNo(){return t(b)}}),s(a,y)},a=>{var r=ta();s(a,r)}),h(u),s(m,u),k(),l()}export{fa as component,da as universal};
